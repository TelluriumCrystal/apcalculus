// ï¿½ 2013 Andrew Bennett
// By Andrew Bennett and Brandon Moore
// Made for the UAHS AP Statistics class as part of a joint project

import java.awt.*;
import java.awt.image.*;
import java.awt.event.*;
import java.util.*;
import java.io.*;
import javax.swing.*;
import javax.swing.event.*;
import javax.swing.text.*;
import javax.imageio.*;

public class MainGUI
{
  // This initilizes the main window
  public void MainGUI()
  {
    JFrame.setDefaultLookAndFeelDecorated(true);
    JFrame frame = new JFrame("Data Deriver");
    frame.setContentPane(makeGUI(frame));
    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    frame.setSize(250,120);
    frame.setLocationRelativeTo(null);
    frame.setResizable(false);
    frame.setVisible(true);
  }
  
  private JPanel makeGUI(final JFrame frame)
  {
    final JTextField inputCash = new JTextField();
    final Document doc = inputCash.getDocument();
  
    class JMainPanel extends JPanel
    {
      public void paintComponent(Graphics g)
      {
        super.paintComponent(g);
        BufferedImage background = null;
        try
        {  
          background = ImageIO.read(new File("greenFelt.gif"));
          g.drawImage((Image)background,0,0,null);
        }
        catch (IOException e)
        {
          System.out.println("Error: Cannot find background file");
        }
      }
    }
    
    class StartAct extends AbstractAction
    {
      public void actionPerformed(ActionEvent e)
      {
        frame.dispose();
      }
    }
    
    class HelpAct extends AbstractAction
    {
      public void actionPerformed(ActionEvent e)
      {
        frame.dispose();
      }
    }
    
    class UtilitiesAct extends AbstractAction
    {
      public void actionPerformed(ActionEvent e)
      {
        frame.dispose();
      }
    }
    
    
    JMainPanel main = new JMainPanel();
    main.setLayout(new FlowLayout(FlowLayout.CENTER,5,5));
    
    JLabel inputCashText = new JLabel("How much money do you have?");
    inputCashText.setForeground(new Color(232,195,55));
    inputCashText.setFont(new Font("Helvetica", Font.BOLD, 14));
    main.add(inputCashText);
    
    inputCash.setHorizontalAlignment(JTextField.CENTER);
    inputCash.setPreferredSize(new Dimension(200,30));
    main.add(inputCash);
    
    JButton start = new JButton("Start Game");
    start.addActionListener(new StartAct());
    main.add(start);
    
    JButton help = new JButton("Help");
    help.addActionListener(new HelpAct());
    main.add(help);
    
    ImageIcon gear = null;
    try
    {  
      BufferedImage tempGear = ImageIO.read(new File("gear.png"));
      gear = new ImageIcon(tempGear);
    }
    catch (IOException e)
    {
      System.out.println("Error: Cannot find gear.png");
    }
    
    JButton utilities = new JButton(gear);
    utilities.addActionListener(new UtilitiesAct());
    utilities.setPreferredSize(new Dimension(20,20));
    main.add(utilities);
    
    return main;
  }
  
  public static void main(String[] args)
  {
    new MainGUI();
  }
}